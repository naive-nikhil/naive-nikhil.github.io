<div
  class="relative w-full bg-[#C8F031] px-6 sm:px-12 md:px-24 lg:px-48 xl:px-6"
>
  <div class="flex flex-col gap-10 items-center py-20">
    <p
      class="font-bold text-3xl md:text-4xl lg:text-5xl xl:text-6xl text-center"
    >
      What Clients Say
    </p>
    <p class="text-lg sm:text-xl text-center w-full max-w-[670px]">
      A digital designer and creative developer from Delhi - India passionate
      about creating memorable experiences.
    </p>

    <!-- Testimonial Card -->
    <div
      id="testimonial-container"
      class="p-6 border bg-white border-[#0C0F03] rounded-xl flex flex-col gap-6 shadow-[4px_4px_0px_#0C0F03] hover-active-effect w-full max-w-[770px] transition-opacity duration-500 opacity-100"
      style="min-height: 250px; display: flex; justify-content: space-between;"
    >
      <p
        class="bg-[#FEE145] w-10 h-10 flex justify-center items-center rounded-full border"
      >
        <svg
          width="19"
          height="15"
          viewBox="0 0 19 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.85956 6.45229C3.69757 6.67778 4.11657 7.016 4.11657 7.46697C4.11657 7.93843 3.90707 8.75837 3.48806 9.92679C3.04811 11.0952 2.3777 12.5403 1.47684 14.2622C1.47684 14.4262 1.55017 14.5902 1.69682 14.7542C1.84347 14.9182 1.99012 15.0002 2.13677 15.0002C2.76528 15.0002 3.71852 13.7498 4.99648 11.2489C6.25349 8.74813 6.882 6.79052 6.882 5.37612C6.882 3.96173 6.49442 2.76257 5.71926 1.77864C4.9441 0.815211 4.07467 0.333496 3.11096 0.333496C2.1263 0.333496 1.36161 0.599976 0.816907 1.13294C0.272201 1.6659 -0.000152588 2.41409 -0.000152588 3.37752C-0.000152588 4.93541 0.953084 5.96033 2.85956 6.45229Z"
            fill="#0C0F03"></path>
        </svg>
      </p>

      <!-- Fixed Height for Text to Prevent Jumping -->
      <p
        id="testimonial-text"
        class="font-medium text-lg sm:text-xl text-[#4E5358] overflow-hidden h-65 md:h-20"
      >
        "Nikhil Patel demonstrates an excellent understanding of user needs and
        all of his designs are creative and elegant in simplicity. He is very
        well thought out and has an excellent response to feedback."
      </p>

      <div class="flex flex-col gap-1">
        <p id="testimonial-author" class="text-xl sm:text-2xl font-bold">
          Elon Musk
        </p>
        <p id="testimonial-role" class="text-[#4E5358] text-sm sm:text-base">
          CEO of Tesla
        </p>
      </div>
    </div>

    <!-- Dots Indicator -->
    <div class="flex space-x-2 mt-4">
      <span
        class="dot w-3 h-3 bg-black rounded-full opacity-50 cursor-pointer transition-opacity duration-300"
      ></span>
      <span
        class="dot w-3 h-3 bg-black rounded-full opacity-50 cursor-pointer transition-opacity duration-300"
      ></span>
      <span
        class="dot w-3 h-3 bg-black rounded-full opacity-50 cursor-pointer transition-opacity duration-300"
      ></span>
    </div>
  </div>
</div>

<script>
  const testimonials = [
    {
      text: "Nikhil Patel demonstrates an excellent understanding of user needs and all of his designs are creative and elegant in simplicity. He is very well thought out and has an excellent response to feedback.",
      author: "Elon Musk",
      role: "CEO of Tesla",
    },
    {
      text: "Nikhil is an exceptional designer and developer. His work consistently exceeds expectations, and his ability to turn ideas into reality is unmatched!",
      author: "Sundar Pichai",
      role: "CEO of Google",
    },
    {
      text: "Working with Nikhil was a fantastic experience! His creativity and technical expertise helped bring our vision to life in a way we never imagined.",
      author: "Satya Nadella",
      role: "CEO of Microsoft",
    },
  ];

  let currentIndex = 0;
  const testimonialText = document.getElementById("testimonial-text");
  const testimonialAuthor = document.getElementById("testimonial-author");
  const testimonialRole = document.getElementById("testimonial-role");
  const testimonialContainer = document.getElementById("testimonial-container");
  const dots = document.querySelectorAll(".dot");

  // Function to update testimonial
  function updateTestimonial(index) {
    testimonialContainer.style.opacity = "0"; // Fade out effect
    setTimeout(() => {
      testimonialText.textContent = testimonials[index].text;
      testimonialAuthor.textContent = testimonials[index].author;
      testimonialRole.textContent = testimonials[index].role;
      testimonialContainer.style.opacity = "1"; // Fade in effect

      // Update active dot
      dots.forEach((dot, i) => {
        dot.style.opacity = i === index ? "1" : "0.5";
      });
    }, 400); // Matches transition duration
  }

  // Auto-scroll every 5 seconds
  let autoScroll = setInterval(() => {
    currentIndex = (currentIndex + 1) % testimonials.length;
    updateTestimonial(currentIndex);
  }, 5000);

  // Dot Click Event
  dots.forEach((dot, index) => {
    dot.addEventListener("click", () => {
      clearInterval(autoScroll); // Stop auto-scroll when clicked
      currentIndex = index;
      updateTestimonial(index);
      autoScroll = setInterval(() => {
        // Restart auto-scroll
        currentIndex = (currentIndex + 1) % testimonials.length;
        updateTestimonial(currentIndex);
      }, 5000);
    });
  });

  // Initialize First Testimonial
  updateTestimonial(currentIndex);
</script>
